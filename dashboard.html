<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Dashboard — C⁴AT³ Analyzer | Templet Solutions</title>
  <meta name="description" content="Run analyses, track usage, and manage your C⁴AT³ Analyzer account."/>
  <link rel="icon" href="favicon.ico" type="image/x-icon"/>
  <link rel="stylesheet" href="./style.css"/>
  <script defer src="./script.js"></script>
</head>
<body data-page="dashboard">
  <header class="site-header">
    <div class="container header-row">
      <a class="brand" href="./" aria-label="Templet Solutions Home">
        <img src="./images/logo.png" alt="Templet Solutions" class="brand-logo"/>
      </a>

      <nav class="main-nav" aria-label="Primary navigation">
        <ul class="nav-links">
          <li><a href="./" data-nav="home">Home</a></li>
          <li><a href="./#pricing" data-nav="pricing">Pricing</a></li>
          <li class="auth-only" style="display:none;"><a href="./dashboard.html" data-nav="dashboard">Dashboard</a></li>
          <li class="nav-actions">
            <button id="loginButton" class="btn-link">Log in</button>
            <button id="logoutButton" class="btn-link danger" style="display:none;">Log out</button>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="dashboard-main" id="mainContent">
    <div class="container dashboard-container">
      <section class="card dashboard-hero">
        <div>
          <h1 id="dashboardGreeting">Welcome back!</h1>
          <p class="muted">Current plan: <span id="userTier">—</span></p>
        </div>
        <button class="btn btn-ghost" id="dashboardLogout">Log out</button>
      </section>

      <section class="dashboard-grid">
        <article class="card usage-card">
          <header>
            <h2>Usage this month</h2>
          </header>
          <div class="usage-meter" id="usageProgress">
            <div class="usage-meter-bar">
              <span class="usage-meter-fill"></span>
            </div>
            <dl class="usage-meter-stats">
              <div><dt>Used</dt><dd><strong data-used>0</strong></dd></div>
              <div><dt>Remaining</dt><dd><strong data-remaining>0</strong></dd></div>
              <div><dt>Limit</dt><dd><strong data-limit>—</strong></dd></div>
            </dl>
          </div>
          <p class="status-message" id="usageStatus" data-state="loading" role="status" aria-live="polite">Loading usage…</p>
        </article>

        <article class="card analysis-card">
          <header>
            <h2>Analyze new content</h2>
            <p class="muted">Submit a URL to measure its C⁴AT³ readiness.</p>
          </header>
          <form id="analysisForm" class="analysis-form" novalidate>
            <label class="field">
              <span>Content URL</span>
              <input type="url" id="analysisUrl" name="url" placeholder="https://example.com/your-article" required/>
            </label>
            <label class="field">
              <span>Analysis type</span>
              <select id="analysisType" name="analysis_type">
                <option value="standard" selected>Standard (balanced)</option>
              </select>
            </label>
            <button type="submit" class="btn btn-primary">Run analysis</button>
          </form>
          <p class="status-message" id="analysisStatus" data-state="idle" role="status" aria-live="polite"></p>
          <div class="analysis-result" id="analysisResult" hidden>
            <div class="analysis-score">
              <span class="label">Score</span>
              <strong id="analysisScore">—</strong>
            </div>
            <div class="analysis-grade">
              <span class="label">Grade</span>
              <strong id="analysisGrade">—</strong>
            </div>
          </div>
        </article>

        <article class="card history-card">
          <header>
            <h2>Recent analyses</h2>
            <p class="muted">Stored locally for quick reference.</p>
          </header>
          <ul id="recentAnalyses" class="history-list">
            <li class="muted">No analyses yet. Run your first analysis to see results here.</li>
          </ul>
        </article>
      </section>
    </div>
  </main>

  <footer class="site-footer">
    <div class="container footer-grid">
      <div>© <span id="year"></span> Templet Solutions LLC</div>
    </div>
  </footer>

  <dialog id="authModal" class="modal">
    <form method="dialog" class="modal-card" id="authForm">
      <div class="modal-head">
        <h3 id="authTitle">Welcome</h3>
        <button type="button" class="btn-icon" data-close aria-label="Close authentication modal">✕</button>
      </div>

      <div class="tabs" role="tablist">
        <button type="button" class="tab active" data-tab="login" role="tab" aria-selected="true">Log in</button>
        <button type="button" class="tab" data-tab="signup" role="tab" aria-selected="false">Sign up</button>
      </div>

      <div class="tab-panel active" data-panel="login" role="tabpanel">
        <label class="field">
          <span>Email</span>
          <input type="email" id="loginEmail" autocomplete="email" required/>
        </label>
        <label class="field">
          <span>Password</span>
          <input type="password" id="loginPassword" autocomplete="current-password" required/>
        </label>
        <button type="button" class="btn btn-primary" id="loginSubmit">Log in</button>
      </div>

      <div class="tab-panel" data-panel="signup" role="tabpanel" aria-hidden="true">
        <label class="field">
          <span>Email</span>
          <input type="email" id="signupEmail" autocomplete="email" required/>
        </label>
        <label class="field">
          <span>Password</span>
          <input type="password" id="signupPassword" autocomplete="new-password" required/>
        </label>
        <button type="button" class="btn btn-primary" id="signupSubmit">Create account</button>
      </div>

      <p class="form-help" id="authHelp" role="status" aria-live="polite"></p>
    </form>
  </dialog>
</body>
</html>
